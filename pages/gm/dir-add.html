<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>新增分区</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../css/oksub.css">
</head>
<body>
<div class="ok-body">
    <form class="layui-form layui-form-pane ok-form">
	    <div class="layui-form-item">
		    <div class="layui-inline">
		    	<label class="layui-form-label">分区ID</label>
		    	<div class="layui-input-inline">
		    		<input type="text" name="iZoneId" placeholder="请输入分区ID" autocomplete="off" class="layui-input" lay-verify="required|number" lay-verType="tips">
		    	</div>
		    </div>
		    <div class="layui-inline">
		    	<label class="layui-form-label">分区名字</label>
		    	<div class="layui-input-inline">
		    		<input type="text" name="sZoneName" placeholder="请输入分区名字" autocomplete="off" class="layui-input" lay-verify="required" lay-verType="tips">
		    	</div>
		    </div>
            <div class="layui-inline">
			    <label class="layui-form-label">开服时间</label>
			    <div class="layui-input-inline">
				    <input type="text" name="iPublishTime" id="iPublishTime" placeholder="请输入开服时间" autocomplete="off" class="layui-input" lay-verify="required|datetime" lay-verType="tips">
			    </div>
            </div>
        </div>
	    <div class="layui-form-item">
			<label class="layui-form-label">ConnServer</label>
			<div class="layui-input-block">
				<input type="text" name="sConnServer" placeholder="请输入分区网关地址" autocomplete="off" class="layui-input" lay-verify="required" lay-verType="tips">
			</div>
		</div>
	    <div class="layui-form-item">
            <div class="layui-inline">
			    <label class="layui-form-label">分区标识</label>
			    <div class="layui-input-inline">
                    <select name="iZoneFlag">
                        <option value="1" selected>正常</option>
                        <option value="2">新区</option>
                        <option value="3">关闭</option>
                        <option value="4">审核</option>
                    </select>
			    </div>
            </div>
	        <div class="layui-inline">
			    <label class="layui-form-label">是否手动</label>
			    <div class="layui-input-inline">
                    <select name="iIsManual">
                        <option value="0">否</option>
                        <option value="1" selected>是</option>
                    </select>
			    </div>
            </div>
            <div class="layui-inline">
			    <label class="layui-form-label">手动状态</label>
			    <div class="layui-input-inline">
                    <select name="iManualZoneStatus">
                        <option value="1" selected>畅通</option>
                        <option value="2">拥挤</option>
                        <option value="3">繁忙</option>
                        <option value="4">维护</option>
                    </select>
			    </div>
            </div>
            <div class="layui-inline">
			    <label class="layui-form-label">最大人数</label>
			    <div class="layui-input-inline">
				    <input type="text" name="iMaxNum" placeholder="请输入最大人数" autocomplete="off" class="layui-input" lay-verify="required|number" lay-verType="tips">
			    </div>
            </div>
	        <div class="layui-inline">
			    <label class="layui-form-label">是否强制下线</label>
			    <div class="layui-input-inline">
                    <select name="iIsKick">
                        <option value="0">否</option>
                        <option value="1" selected>是</option>
                    </select>
			    </div>
            </div>
		</div>
		<div class="layui-form-item">
            <div class="layui-inline">
			    <label class="layui-form-label">IOS客户端版本</label>
			    <div class="layui-input-inline">
				    <input type="text" name="sClientVersion" placeholder="请输入5位版本号" autocomplete="off" class="layui-input" lay-verify="required|version" lay-verType="tips">
			    </div>
            </div>
            <div class="layui-inline">
			    <label class="layui-form-label">IOS强制更新版本</label>
			    <div class="layui-input-inline">
				    <input type="text" name="sForceUpdateVersion" placeholder="请输入3位版本号" autocomplete="off" class="layui-input" lay-verify="required|version" lay-verType="tips">
			    </div>
            </div>
            <div class="layui-inline">
			    <label class="layui-form-label">AND客户端版本</label>
			    <div class="layui-input-inline">
				    <input type="text" name="sAndClientVersion" placeholder="请输入5位版本号" autocomplete="off" class="layui-input" lay-verify="required|version" lay-verType="tips">
			    </div>
            </div>
            <div class="layui-inline">
			    <label class="layui-form-label">AND强制更新版本</label>
			    <div class="layui-input-inline">
				    <input type="text" name="sAndForceUpdateVersion" placeholder="请输入3位版本号" autocomplete="off" class="layui-input" lay-verify="required|version" lay-verType="tips">
			    </div>
            </div>
        </div>
		<div class="layui-form-item">
			<div class="layui-input-block">
				<button class="layui-btn" lay-submit lay-filter="add">添加</button>
				<button type="reset" class="layui-btn layui-btn-primary">重置</button>
			</div>
		</div>
	</form>
</div>
<script src="../../lib/layui/layui.js"></script>
<script>
    // https://www.layui.com/doc/modules/form.html
    layui.use(['form', 'laydate'], function(){
      var form = layui.form;
	  var laydate = layui.laydate;

      laydate.render({elem: "#iPublishTime", type: "datetime"});

      //数据校验
      form.verify({
        "version": function(value, item) {
            var v = value.split('.');
            var l = 5;
            if (item.name.indexOf('Force') != -1) {
                l = 3;
            }
            if (v.length != l) {
                return '版本号格式不对';
            }
        }
      });

      //监听提交
      form.on('submit(add)', function(data){
        layer.msg(JSON.stringify(data.field));
        return false;
      });
    });
</script>
</body>
</html>
